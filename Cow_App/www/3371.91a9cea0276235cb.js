"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3371],{3371:(y,u,l)=>{l.r(u),l.d(u,{MedicalRecordsPageModule:()=>x});var p=l(177),d=l(4341),s=l(9420),_=l(403),g=l(467),e=l(4438),m=l(3278),f=l(6463);const v=["statusForm"];function h(i,r){if(1&i&&(e.j41(0,"div",42)(1,"div",43)(2,"li",44)(3,"ion-chip",45),e.EFF(4),e.k0s()(),e.j41(5,"ion-label"),e.EFF(6),e.k0s()(),e.j41(7,"div",46),e.EFF(8),e.k0s()()),2&i){const a=r.$implicit;e.Mz_("routerLink","/medical-records-detail/",null==a?null:a.id,""),e.R7$(4),e.JRh(null==a?null:a.disease),e.R7$(2),e.JRh(null==a?null:a.date),e.R7$(2),e.JRh(a.treatment_medication)}}function b(i,r){if(1&i&&(e.j41(0,"div"),e.DNE(1,h,9,5,"div",41),e.k0s()),2&i){const a=e.XpG();e.R7$(),e.Y8G("ngForOf",a.eventList)}}function M(i,r){1&i&&(e.j41(0,"p",47),e.EFF(1,"No treatments or vaccinations added"),e.k0s())}function k(i,r){if(1&i){const a=e.RV6();e.j41(0,"ion-content",48)(1,"ion-toolbar",49)(2,"ion-title",50),e.EFF(3,"Update Status"),e.k0s(),e.j41(4,"ion-buttons",51)(5,"ion-button",52),e.bIt("click",function(){e.eBV(a),e.XpG();const n=e.sdS(68);return e.Njj(n.dismiss())}),e.nrm(6,"ion-icon",53),e.k0s()()(),e.j41(7,"form",54,2),e.bIt("ngSubmit",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.onSubmit())}),e.j41(10,"div",55)(11,"div",56)(12,"ion-label",57),e.EFF(13,"Status "),e.j41(14,"span",58),e.EFF(15,"*"),e.k0s()(),e.j41(16,"ion-list")(17,"ion-item",59)(18,"ion-select",60),e.mxI("ngModelChange",function(n){e.eBV(a);const o=e.XpG();return e.DH7(o.dataset.current_status,n)||(o.dataset.current_status=n),e.Njj(n)}),e.j41(19,"ion-select-option",61),e.EFF(20,"Healthy"),e.k0s(),e.j41(21,"ion-select-option",62),e.EFF(22,"Risk"),e.k0s(),e.j41(23,"ion-select-option",63),e.EFF(24,"Under Treatment"),e.k0s()()()()(),e.j41(25,"div",64),e.bIt("click",function(){e.eBV(a),e.XpG();const n=e.sdS(68);return e.Njj(n.dismiss())}),e.j41(26,"ion-button",65),e.EFF(27,"Save"),e.k0s()()()()()}if(2&i){const a=e.sdS(9),t=e.XpG();e.R7$(18),e.R50("ngModel",t.dataset.current_status),e.R7$(8),e.Y8G("disabled",!a.valid)}}const P=[{path:"",component:(()=>{var i;class r{constructor(t,n,o,c){this.themeService=t,this.apiService=n,this.route=o,this.urlParam=c,this.eventList=[],this.checkupDate=null,this.dataset={current_status:""},this.cow={age:null,breed:null,date_of_birth:null,gender:null,id:null,image:null,tag_number:null},this.themeToggle=this.themeService.isDark(),this.id=this.urlParam.snapshot.paramMap.get("id"),this.getSymptomsAllEvent(),this.getCowStatus(),this.getCheckupDate(),this.getCowSingle()}customCounterFormatter(t,n){return n-t+" characters remaining"}ngOnInit(){this.themeService.toggleTheme(this.themeToggle)}BackBtn(){history.back()}NextBtn(){this.route.navigate([`/questionnaire2/${this.id}`])}getSymptomsAllEvent(){var t=this;return(0,g.A)(function*(){try{const n=yield t.apiService.getToken(),o=yield t.apiService.getSymptomsAllEventAPI(n.access_token,t.id);"success"===o.response_type&&(t.eventList=o.data)}catch(n){console.error(n)}})()}getCowStatus(){var t=this;return(0,g.A)(function*(){try{const o=(yield t.apiService.getToken()).access_token,c=yield t.apiService.getCowStatusAPI(o,t.id);"success"===c.response_type&&(t.cowStatus=c.data)}catch(n){console.error(n)}})()}onSubmit(){var t=this;return(0,g.A)(function*(){yield t.apiService.showLoading();try{const n=yield t.apiService.getToken(),o=yield t.apiService.CowUpdateStatusAPI(n.access_token,t.dataset,t.id);yield t.apiService.removeLoading(),"success"===o.response_type&&(t.getCowStatus(),t.apiService.displayToast(o.msg,"bottom","toast-success","checkmark-circle-sharp","success"))}catch(n){yield t.apiService.removeLoading(),console.error(n),t.apiService.displayToast("Something went wrong","bottom","toast-error","alert-circle","danger")}})()}getCheckupDate(){var t=this;return(0,g.A)(function*(){try{const o=(yield t.apiService.getToken()).access_token,c=yield t.apiService.getSymptomsLastCowResultAPI(o,t.id);"success"===c.response_type&&(t.checkupDate=c.data.date)}catch(n){console.error(n)}})()}getCowSingle(){var t=this;this.apiService.getToken().then(n=>{this.apiService.getCowSingleAPI(n.access_token,this.id).then(function(){var o=(0,g.A)(function*(c){"success"==c.response_type&&(t.cow={...c.data,date_of_birth:t.apiService.formatDate(c.data.date_of_birth)})});return function(c){return o.apply(this,arguments)}}()).catch(o=>console.error(o))}).catch(n=>console.error(n))}}return(i=r).\u0275fac=function(t){return new(t||i)(e.rXU(m.F),e.rXU(f.G),e.rXU(_.Ix),e.rXU(_.nX))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-medical-records"]],viewQuery:function(t,n){if(1&t&&e.GBs(v,5),2&t){let o;e.mGM(o=e.lsd())&&(n.statusForm=o.first)}},decls:70,vars:8,consts:[["noEvents",""],["modal",""],["form","ngForm","statusForm","ngForm"],[1,"modal_header"],[1,"close_btn",2,"color","white",3,"click"],["name","chevron-back-outline"],["slot","end",1,"modal_title"],[1,"status_row"],[1,"single_status"],[1,"status_bullet","green_bullet"],[1,"status_bullet","red_bullet"],[1,"status_bullet","blue_bullet"],[1,"profile_information"],[1,"single_pro_infor","currentStatus"],[1,"left-side"],[1,"status_icon"],["src","../../assets/images/status.png","alt",""],[1,"main_pro_infor"],[1,"title","green_text"],["id","open-modal",1,"edit_Status"],[1,"single_pro_infor"],["src","../../assets/images/69604-removebg-preview.png","alt",""],[1,"number_of_counts","green_text"],[1,"titile_and_edit"],[1,"main_title","green_text"],[1,"main_cow_detail"],[1,"cow_detail_row"],[1,"single_cow_detail"],[1,"main_cow_image"],["src","../../assets/images/cow_face.png","alt",""],[1,"cow_detail"],[1,"cow_title"],["id","cow_tag_number",1,"detail","cow_title"],["src","../../assets/images/breed.png","alt",""],["id","cow_breed",1,"detail","cow_title"],[1,"main_key_events"],[1,"key_events_title"],["name","list-outline"],[1,"key_event_detail"],[4,"ngIf","ngIfElse"],["trigger","open-modal"],["class","vaccination_row",3,"routerLink",4,"ngFor","ngForOf"],[1,"vaccination_row",3,"routerLink"],[1,"single_li"],[1,"disease-name"],["color","danger"],[1,"short_detail"],[1,"empty_field"],[1,"main_modal_content"],[1,"main_header_of_modal"],[1,"main_modal_title","green_text"],["slot","end"],["color","dark",1,"close_icon",3,"click"],["name","close-outline"],["id","login-form",3,"ngSubmit"],[1,"main_add_form"],[1,"form-group"],["position","stacked",1,"green_text"],[1,"required_mark"],["lines","none",1,"ion_item"],["aria-label","Status","interface","popover","placeholder","Choose a status","name","status","required","",3,"ngModelChange","ngModel"],["value","healthy"],["value","risk"],["value","under treatment"],[1,"save_btn",3,"click"],["type","submit",3,"disabled"]],template:function(t,n){if(1&t){const o=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar",3)(2,"ion-buttons")(3,"ion-button",4),e.bIt("click",function(){return e.eBV(o),e.Njj(n.BackBtn())}),e.nrm(4,"ion-icon",5),e.k0s()(),e.j41(5,"ion-label",6),e.EFF(6," Medical Records "),e.k0s()()(),e.j41(7,"ion-content")(8,"div",7)(9,"div",8),e.nrm(10,"div",9),e.EFF(11," Healthy "),e.k0s(),e.j41(12,"div",8),e.nrm(13,"div",10),e.EFF(14," At Risk "),e.k0s(),e.j41(15,"div",8),e.nrm(16,"div",11),e.EFF(17," Under Treatment "),e.k0s()(),e.j41(18,"div",12)(19,"div",13)(20,"div",14)(21,"div",15),e.nrm(22,"img",16),e.k0s(),e.j41(23,"div",17)(24,"div",18),e.EFF(25," Current Status "),e.nrm(26,"div"),e.k0s()()(),e.j41(27,"ion-label",19),e.EFF(28,"Edit"),e.k0s()(),e.j41(29,"div",20)(30,"div",15),e.nrm(31,"img",21),e.k0s(),e.j41(32,"div",17)(33,"div",18),e.EFF(34,"Last Checkup Date"),e.k0s(),e.j41(35,"div",22),e.EFF(36),e.k0s()()()(),e.j41(37,"div",23)(38,"div",24),e.EFF(39,"Basic Info"),e.k0s()(),e.j41(40,"div",25)(41,"div",26)(42,"div",27)(43,"div",28),e.nrm(44,"img",29),e.k0s(),e.j41(45,"div",30)(46,"p",31),e.EFF(47,"Cow ID"),e.k0s(),e.j41(48,"div",32),e.EFF(49),e.k0s()()(),e.j41(50,"div",27)(51,"div",28),e.nrm(52,"img",33),e.k0s(),e.j41(53,"div",30)(54,"p",31),e.EFF(55,"Breed"),e.k0s(),e.j41(56,"div",34),e.EFF(57),e.k0s()()()()(),e.j41(58,"div",35)(59,"div",36),e.nrm(60,"ion-icon",37),e.EFF(61," Key Events "),e.k0s(),e.j41(62,"div",38)(63,"ul"),e.DNE(64,b,2,1,"div",39)(65,M,2,0,"ng-template",null,0,e.C5r),e.k0s()()()(),e.j41(67,"ion-modal",40,1),e.DNE(69,k,28,2,"ng-template"),e.k0s()}if(2&t){const o=e.sdS(66);e.R7$(26),e.ZvI("status_bullet ","healthy"==(null==n.cowStatus?null:n.cowStatus.current_status)?"green_bullet":"risk"==(null==n.cowStatus?null:n.cowStatus.current_status)?"red_bullet":"blue_bullet",""),e.R7$(10),e.JRh(n.checkupDate),e.R7$(13),e.JRh(null==n.cow?null:n.cow.tag_number),e.R7$(8),e.JRh(null==n.cow?null:n.cow.breed),e.R7$(7),e.Y8G("ngIf",n.eventList&&n.eventList.length>0)("ngIfElse",o)}},dependencies:[p.Sq,p.bT,d.qT,d.BC,d.cb,d.YS,d.vS,d.cV,s.Jm,s.QW,s.ZB,s.W9,s.eU,s.iq,s.uz,s.he,s.nf,s.Nm,s.Ip,s.BC,s.ai,s.Sb,s.Je,s.N7,_.Wk],styles:[".status_row[_ngcontent-%COMP%]{display:flex;gap:15px;padding:14px 11px;border-bottom:1px solid #d1d1d1}.single_status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.status_bullet[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:10px}.green_bullet[_ngcontent-%COMP%]{background:#1fed2f}.red_bullet[_ngcontent-%COMP%]{background:#ff0b0b}.blue_bullet[_ngcontent-%COMP%]{background:#00c0df}.main_pofile[_ngcontent-%COMP%]{text-align:center;padding:27px 0;border-bottom:1px solid #c9c9c9}.name[_ngcontent-%COMP%]{font-weight:600;margin-bottom:8px}.single_pro_infor[_ngcontent-%COMP%]{display:flex;align-items:center;margin:13px 0;gap:18px;font-size:14px}.single_pro_infor.currentStatus[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.single_pro_infor.currentStatus[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:18px}.profile_information[_ngcontent-%COMP%]{padding:16px 27px}.pro_icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:54px}.main_pro_infor[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#0f452b;font-size:20px;font-weight:600;display:flex;align-items:center;gap:10px}.main_pro_infor[_ngcontent-%COMP%]   .number_of_counts[_ngcontent-%COMP%]{color:#0f452b}.key_events_title[_ngcontent-%COMP%]{background:#91b3a1;color:#0f452b;padding:11px 32px;border-radius:39px;font-size:22px;font-weight:600;display:flex;align-items:center;gap:4px;position:relative;z-index:11}.key_events_title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:31px}.main_key_events[_ngcontent-%COMP%]{padding:25px 8px;border:1px solid #cfcfcf;border-left:navajowhite;border-right:none}.key_event_detail[_ngcontent-%COMP%]{background:#abbfb6;border-radius:0 0 20px 20px;padding:39px 0 12px;margin-top:-25px;position:relative}.single_li[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.key_event_detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0 12px}.short_detail[_ngcontent-%COMP%]{font-size:14px;color:#6e6e6e}.vaccination_row[_ngcontent-%COMP%]{margin-bottom:11px;background:#d0dbd6;border-radius:4px;padding:6px;list-style:none}.add_icon[_ngcontent-%COMP%]{position:absolute;bottom:4px;right:15px}.add_icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:30px}.main_modal_title[_ngcontent-%COMP%]{font-weight:600;font-size:20px}.form_group[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:12px}.main_add_form[_ngcontent-%COMP%]{padding:12px 14px}.main_modal_content[_ngcontent-%COMP%]{--background: #0f452b21}.form_group[_ngcontent-%COMP%]{margin-bottom:18px}.close_icon[_ngcontent-%COMP%]{font-size:20px}.form_group[_ngcontent-%COMP%]   ion-input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{display:none}.save_btn[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background: #0f452b}.form_group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.key_event_detail_dark[_ngcontent-%COMP%]{background:#0f452b}ion-input#short_detail[_ngcontent-%COMP%]{border:none!important}.main_pro_infor.currentStatus[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.edit_Status[_ngcontent-%COMP%]{font-size:18px;color:#0f452b9e;font-weight:600}ion-list[_ngcontent-%COMP%]{margin:10px 0}.status_icon[_ngcontent-%COMP%]{width:40px}.disease-name[_ngcontent-%COMP%]{font-weight:500;text-transform:capitalize}.titile_and_edit[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:12px 32px;align-items:center;border-bottom:1px solid #d1d1d1}.titile_and_edit[_ngcontent-%COMP%]   .main_title[_ngcontent-%COMP%]{font-size:21px;color:#0f452b;font-weight:600}.titile_and_edit[_ngcontent-%COMP%]   .edit_btn[_ngcontent-%COMP%]{font-size:18px;color:#0f452b9e;font-weight:600}.main_cow_detail[_ngcontent-%COMP%]{padding:15px 24px}.cow_detail_row[_ngcontent-%COMP%]{display:flex;align-items:center}.single_cow_detail[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;width:100%}.main_cow_image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.main_cow_image[_ngcontent-%COMP%]{background:#0f452b38;width:53px;height:53px;display:flex;justify-content:center;align-items:center;border-radius:14px;padding:2px 6px}.cow_detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#0f452b}"]}),r})()}];let C=(()=>{var i;class r{}return(i=r).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[_.iI.forChild(P),_.iI]}),r})(),x=(()=>{var i;class r{}return(i=r).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[p.MD,d.YN,s.bv,C]}),r})()}}]);